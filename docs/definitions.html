<!DOCTYPE html>
<html>
    <head>
        <title>Définitions</title>
        <link rel="stylesheet" href="main.css">
    </head>
    <body style="font-family:tahoma,arial;">
        <div style="width:400px; float:left;">
            <img src="images/logo.png" width="250"/>
        </div>
        <div style="width:800px; float:left;">
            <h1>XI.3. Structures du langage - Définitions</h1>
        </div>
        <div style="clear:both;"><hr></div>
        <a href="arrays.html">Précédent : XI.2. Structures du langage - Tableaux</a> | <a href="index.html">Index</a> | <a href="conds.html">XI.4. Structures du langage - Conditionnelles</a>

        <h2>a. Généralités</h3>
        <p>
            La création de nouvelles définitions constitue le fond de Beetle. Vous pouvez, par ce moyen, enrichir le vocabulaire de 
            Beetle. Il existe plusieurs façons d'enrichir le vocabulaire :
        </p>
        <ul>
            <li>de manière classique</li>
            <li>les définitions immediates : <b>immediate</b></li>
            <li>les définitions non nommées : <b>:noname</b></li>
            <li>les définitions vides : <b>defer</b></li>
            <li>les variables et constantes : <b>var</b> et <b>const</b></li>
        </ul>

        <h2>b. Définitions classiques</h2>
        <p>
            Les définitions classiques vous permettent de définir des mots qui vont enrichir le vocabulaire de Beetle. La syntaxe
            d'une définition classique est la suivante :
        </p>

        <div class="div_code">
            <code>: nom ( commentaire ) instructions ;</code>
        </div>
        <ul>
            <li>Le : indique le début de la définition</li>
            <li>Le ; indique la fin de la définition</li>
            <li>Le commentaire va créer une entrée dans l'aide de Beetle pour cette nouvelle définition</li>
            <li>Après le commentaire et avant le ;, les instructions de la définition sont insérées</li>
        </ul>

        <p>Imaginons que nous ayons besoin d'une définition qui nous donne le carré d'un nombre n, voici comme nous pourrions procéder</p>
        <div class="div_code">
            <code>Beetle> : <b>carre</b> ( obtenir le carre de n ) dup * ;</code>
        </div>
        <p>Dans le vocabulaire, nous allons retrouver notre nouvelle définition.</p>
        <div class="div_code">
            <code>Beetle> words<br>
                -------/core/ (170 words)<br>
                ! % ' ( ) * *! */ + +! +loop , - -> . .2cr .bl .cr .s .scr / 0< 0<= 0= 0> 0>= 1+ 1- 2* 2+ 2- 2.s 2>r 2const 2drop 2dup 2nip 2over 2r> 2rdrop 2rdup 2swap 2var : :noname ; < <= <> = > >= >base >decimal >r ? ?array ?char ?exists ?float ?int ?pack ?str @ @r [ ] again and arcol arget array arrow base base! begin bl bye <b>carre</b> case cell! cell+ cell- cell= cell? cell@ cells cells? char chars cls clt const constants cr create decimal defer do does> drop dump dup else emit endcase endof evaluate execute false forget format help hex if immediate import input invert is kpress leave list load loop max min negate nip octal of or over packages path pick postpone r> r@ rdrop rdump rdup readk recurse repeat reverse roll rot rotonall rover rswap secinput see sp? space swap then true t{ until var variables vp? while words wp? xor { } }t</code>
        </div>
        <p>Et pour utiliser notre nouvelle définition, nous devrons faire comme suit :</p>
        <div class="div_code">
            <code>Beetle> 50 <b>carre</b> .<br>
                2500</code>
        </div>
        <p>
            Allons un peu plus loin! Admettons que maintenant, nous avons besoin de la définition <b>cube</b> en utilisant la définition 
            de carre que l'on vient de créer :
        </p>
        <div class="div_code">
            <code>Beetle> : <b>cube</b> ( obtenir le cube de n ) dup carre * ;</code>
        </div>
        <p>Dans le vocabulaire, nous allons retrouver notre nouvelle définition.</p>
        <div class="div_code">
            <code>Beetle> words<br>
                -------/core/ (171 words)<br>
                ! % ' ( ) * *! */ + +! +loop , - -> . .2cr .bl .cr .s .scr / 0< 0<= 0= 0> 0>= 1+ 1- 2* 2+ 2- 2.s 2>r 2const 2drop 2dup 2nip 2over 2r> 2rdrop 2rdup 2swap 2var : :noname ; < <= <> = > >= >base >decimal >r ? ?array ?char ?exists ?float ?int ?pack ?str @ @r [ ] again and arcol arget array arrow base base! begin bl bye <b>carre</b> case cell! cell+ cell- cell= cell? cell@ cells cells? char chars cls clt const constants cr create <b>cube</b> decimal defer do does> drop dump dup else emit endcase endof evaluate execute false forget format help hex if immediate import input invert is kpress leave list load loop max min negate nip octal of or over packages path pick postpone r> r@ rdrop rdump rdup readk recurse repeat reverse roll rot rotonall rover rswap secinput see sp? space swap then true t{ until var variables vp? while words wp? xor { } }t</code>
        </div>
        <p>Et pour utiliser de nouveau le mot <b>cube</b>, nous devrons faire comme suit :</p>
        <div class="div_code">
            <code>Beetle> 50 <b>cube</b> .<br>
                125000</code>
        </div>
        <p>Ainsi, vous pouvez imbriquer les appels de définitions indéfiniment comme vous le souhaitez.</p>

        <p>De manière marginale, vous pouvez consulter vos définitions en utilisant le mot <b>see</b></p>
        <div class="div_code">
            <code>Beetle> <b>see</b> carre<br>
                : carre
                        <blockquote>dup *</blockquote>
                ;<br><br>
                Beetle> <b>see</b> cube<br>
                : cube
                    <blockquote>dup carre *</blockquote>
                ;</code>
        </div>

        <h2>c. Définitions immediates (immediate)</h2>
        <p>
            Les définitions immediates vous permettent de définir des mots qui vont enrichir le vocabulaire de Beetle de la même façon 
            que pour les définitions classiques. Si cette définition immediate est insérée dans la définition d'un autre mot, elle sera
            interprétée immdiatement. La syntaxe d'une définition immediate est la suivante, il suffit de rajouter le mot
            <b>immediate</b> après le ; :
        </p>

        <div class="div_code">
            <code>: nom ( commentaire ) instructions ; immediate</code>
        </div>

        <h2>d. Définitions non nommées (:noname)</h2>
        <p>My first paragraph.</p>

        <div class="div_code">
            <code>: test . cr ;</code>
        </div>
        <h2>e. Définitions vides (defer)</h2>
        <p>My first paragraph.</p>

        <div class="div_code">
            <code>: test . cr ;</code>
        </div>
        <h2>f. Définitions de variables et constantes (var et const)</h2>

        <p>My first paragraph.</p>

        <div class="div_code">
            <code>: test . cr ;</code>
        </div>

        <a href="arrays.html">Précédent : XI.2. Structures du langage - Tableaux</a> | <a href="index.html">Index</a> | <a href="conds.html">XI.4. Structures du langage - Conditionnelles</a>

    </body>
</html>